"use strict";(()=>{var e={};e.id=323,e.ids=[323,660],e.modules={8415:(e,r,t)=>{t.a(e,async(e,a)=>{try{t.r(r),t.d(r,{config:()=>x,default:()=>h,getServerSideProps:()=>g,getStaticPaths:()=>b,getStaticProps:()=>p,reportWebVitals:()=>f,routeModule:()=>_,unstable_getServerProps:()=>C,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>S,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>v});var i=t(7093),s=t(5244),l=t(1323),n=t(2899),o=t.n(n),d=t(6958),c=t.n(d),u=t(4838),m=e([u]);u=(m.then?(await m)():m)[0];let h=(0,l.l)(u,"default"),p=(0,l.l)(u,"getStaticProps"),b=(0,l.l)(u,"getStaticPaths"),g=(0,l.l)(u,"getServerSideProps"),x=(0,l.l)(u,"config"),f=(0,l.l)(u,"reportWebVitals"),v=(0,l.l)(u,"unstable_getStaticProps"),j=(0,l.l)(u,"unstable_getStaticPaths"),S=(0,l.l)(u,"unstable_getStaticParams"),C=(0,l.l)(u,"unstable_getServerProps"),y=(0,l.l)(u,"unstable_getServerSideProps"),_=new i.PagesRouteModule({definition:{kind:s.x.PAGES,page:"/cliente/registrar",pathname:"/cliente/registrar",bundlePath:"",filename:""},components:{App:c(),Document:o()},userland:u});a()}catch(e){a(e)}})},5376:(e,r,t)=>{t.d(r,{Z:()=>l});var a=t(997),i=t(1163),s=t(6689);function l(){let[e,r]=(0,s.useState)(null),t=(0,i.useRouter)();if(!e)return null;let l=[];return"admin"===e.role?l.push({label:"Dashboard",href:"/dashboard"},{label:"Gesti\xf3n de Usuarios",href:"/admin/usuarios"},{label:"Gesti\xf3n de Empresas",href:"/admin/empresas"},{label:"Mis Clientes",href:"/cliente/clientes"},{label:"Carga Masiva",href:"/cliente/carga-masiva"},{label:"Barridos",href:"/admin/barridos"},{label:"Matrices de Riesgo",href:"/admin/matrices"},{label:"Cambiar Contrase\xf1a",href:"/cambiar-contrasena"}):"consultor"===e.role?l.push({label:"Dashboard",href:"/dashboard"},{label:"Empresas",href:"/consultor/empresas"},{label:"Mis Clientes",href:"/cliente/clientes"},{label:"Carga Masiva",href:"/cliente/carga-masiva"},{label:"Alertas",href:"/consultor/alertas"},{label:"Reportes",href:"/consultor/reportes"},{label:"Cambiar Contrase\xf1a",href:"/cambiar-contrasena"}):"cliente"===e.role&&l.push({label:"Dashboard",href:"/dashboard"},{label:"Mis Clientes",href:"/cliente/clientes"},{label:"Carga Masiva",href:"/cliente/carga-masiva"},{label:"Transacciones",href:"/cliente/transacciones"},{label:"Reportes",href:"/cliente/reportes"},{label:"Cambiar Contrase\xf1a",href:"/cambiar-contrasena"}),(0,a.jsxs)("nav",{style:{backgroundColor:"#1e40af",padding:"1rem",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("div",{children:a.jsx("h2",{style:{margin:0,fontSize:"1.2rem"},children:"admin"===e.role?"Consola Administrativa":"consultor"===e.role?"Panel Consultor":"Portal Cliente"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{marginBottom:"0.5rem",fontSize:"0.9rem"},children:[e.email," (",e.role,")"]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[l.map(e=>a.jsx("button",{onClick:()=>t.push(e.href),style:{color:"white",background:"none",border:"none",cursor:"pointer",textDecoration:t.pathname===e.href?"underline":"none"},children:e.label},e.href)),a.jsx("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t.push("/login")},style:{color:"#f87171",background:"none",border:"none",cursor:"pointer"},children:"Cerrar Sesi\xf3n"})]})]})]})}},4838:(e,r,t)=>{t.a(e,async(e,a)=>{try{t.r(r),t.d(r,{default:()=>c});var i=t(997),s=t(6689),l=t(1163),n=t(9648),o=t(5376),d=e([n]);function c(){let[e,r]=(0,s.useState)({nombre_entidad:"",tipo_cliente:"persona_fisica",actividad_economica:"",empresa_id:""}),[t,a]=(0,s.useState)(""),[d,c]=(0,s.useState)(""),[u,m]=(0,s.useState)(null),[h,p]=(0,s.useState)(null),b=(0,l.useRouter)(),g=async r=>{r.preventDefault();let t=localStorage.getItem("token");if(!t){b.push("/login");return}try{await n.default.post("/api/cliente/registrar",e,{headers:{Authorization:`Bearer ${t}`}}),c("Cliente registrado exitosamente"),setTimeout(()=>b.push("/cliente/clientes"),1500)}catch(e){a(e.response?.data?.error||"Error al registrar cliente")}},x=e=>{let{name:t,value:a}=e.target;r(e=>({...e,[t]:a}))};return(0,i.jsxs)("div",{children:[i.jsx(o.Z,{}),(0,i.jsxs)("div",{style:{padding:"2rem"},children:[i.jsx("h1",{children:"Registrar Cliente"}),t&&i.jsx("p",{style:{color:"red"},children:t}),d&&i.jsx("p",{style:{color:"green"},children:d}),(0,i.jsxs)("form",{onSubmit:g,children:[i.jsx("div",{style:{marginBottom:"1rem"},children:(0,i.jsxs)("label",{children:["Nombre del Cliente: ",i.jsx("input",{name:"nombre_entidad",value:e.nombre_entidad,onChange:x,required:!0,style:{width:"100%",padding:"0.5rem"}})]})}),i.jsx("div",{style:{marginBottom:"1rem"},children:(0,i.jsxs)("label",{children:["Tipo de Cliente:",(0,i.jsxs)("select",{name:"tipo_cliente",value:e.tipo_cliente,onChange:x,style:{width:"100%",padding:"0.5rem"},children:[i.jsx("option",{value:"persona_fisica",children:"Persona F\xedsica"}),i.jsx("option",{value:"persona_moral",children:"Persona Moral"})]})]})}),i.jsx("div",{style:{marginBottom:"1rem"},children:(0,i.jsxs)("label",{children:["Actividad Econ\xf3mica: ",i.jsx("input",{name:"actividad_economica",value:e.actividad_economica,onChange:x,required:!0,style:{width:"100%",padding:"0.5rem"}})]})}),"cliente"!==u&&i.jsx("div",{style:{marginBottom:"1rem"},children:(0,i.jsxs)("label",{children:["ID de Empresa: ",i.jsx("input",{name:"empresa_id",value:e.empresa_id,onChange:x,required:!0,type:"number",style:{width:"100%",padding:"0.5rem"}})]})}),i.jsx("button",{type:"submit",style:{padding:"0.5rem 1rem",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Registrar"})]})]})]})}n=(d.then?(await d)():d)[0],a()}catch(e){a(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")},9648:e=>{e.exports=import("axios")}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[899,125],()=>t(8415));module.exports=a})();